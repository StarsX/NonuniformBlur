//--------------------------------------------------------------------------------------
// By Stars XU Tianchen
//--------------------------------------------------------------------------------------

#include "CSResample.hlsli"
#include "D3DX_DXGIFormatConvert.inl"

//--------------------------------------------------------------------------------------
// Textures
//--------------------------------------------------------------------------------------
RWTexture2D<uint>	g_txDest;

//--------------------------------------------------------------------------------------
// Compute shader
//--------------------------------------------------------------------------------------
[numthreads(8, 8, 1)]
void main(uint2 DTid : SV_DispatchThreadID)
{
	float2 dim;
	g_txDest.GetDimensions(dim.x, dim.y);

	const float2 tex = (DTid + 0.5) / dim;

	g_txDest[DTid] = D3DX_FLOAT4_to_B8G8R8A8_UNORM(Resample(tex));
}
